<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eleapp.dao.AppinfoMapper">
  <resultMap id="BaseResultMap" type="com.eleapp.model.Appinfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="AutoID" property="autoID" jdbcType="INTEGER" />
    <result column="AppCode" property="appCode" jdbcType="VARCHAR" />
    <result column="AppKey" property="appKey" jdbcType="VARCHAR" />
    <result column="AppName" property="appName" jdbcType="VARCHAR" />
    <result column="AppExplain" property="appExplain" jdbcType="VARCHAR" />
    <result column="AppType" property="appType" jdbcType="INTEGER" />
    <result column="CompanyCode" property="companyCode" jdbcType="VARCHAR" />
    <result column="AppAddress" property="appAddress" jdbcType="VARCHAR" />
    <result column="AppSize" property="appSize" jdbcType="DOUBLE" />
    <result column="ImgSmall" property="imgSmall" jdbcType="VARCHAR" />
    <result column="ImgBig" property="imgBig" jdbcType="VARCHAR" />
    <result column="IsFree" property="isFree" jdbcType="INTEGER" />
    <result column="Price" property="price" jdbcType="DOUBLE" />
    <result column="OperaterUserID" property="operaterUserID" jdbcType="VARCHAR" />
    <result column="Status" property="status" jdbcType="INTEGER" />
    <result column="isPerfect" property="isPerfect" jdbcType="INTEGER" />
    <result column="settingTime" property="settingTime" jdbcType="TIMESTAMP" />
    <result column="LastReviewDate" property="lastReviewDate" jdbcType="TIMESTAMP" />
    <result column="UploadUserID" property="uploadUserID" jdbcType="INTEGER" />
    <result column="UploadExplain" property="uploadExplain" jdbcType="VARCHAR" />
    <result column="CreateDate" property="createDate" jdbcType="TIMESTAMP" />
    <result column="ModifyDate" property="modifyDate" jdbcType="VARCHAR" />
    <result column="IsDel" property="isDel" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    AutoID, AppCode,AppKey, AppName, AppExplain, AppType, CompanyCode, AppAddress, AppSize,
    ImgSmall, ImgBig,  if(IsFree=1,'是','否')IsFree, Price, OperaterUserID, if(Status=1,'已审核','未审核') Status,if(isPerfect=1,'是','否') isPerfect,date_format(settingTime,'%Y-%m-%d %H:%i:%s') settingTime,LastReviewDate, UploadUserID,
    UploadExplain, date_format(CreateDate,'%Y-%m-%d %H:%i:%s') CreateDate, date_format(ModifyDate,'%Y-%m-%d %H:%i:%s') ModifyDate,IsDel
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from ele_appinfo
    where AutoID = #{autoID,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from ele_appinfo
    where AutoID = #{autoID,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.eleapp.model.Appinfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ele_appinfo (AutoID, AppCode, AppKey,
    AppName, AppExplain, AppType,
    CompanyCode, AppAddress, AppSize,
    ImgSmall, ImgBig, IsFree,
    Price, OperaterUserID, Status,isPerfect,settingTime
    LastReviewDate, UploadUserID, UploadExplain,
    CreateDate, ModifyDate, IsDel
    )
    values (#{autoID,jdbcType=INTEGER}, #{appCode,jdbcType=VARCHAR}, #{appKey,jdbcType=VARCHAR},
    #{appName,jdbcType=VARCHAR}, #{appExplain,jdbcType=VARCHAR}, #{appType,jdbcType=INTEGER},
    #{companyCode,jdbcType=VARCHAR}, #{appAddress,jdbcType=VARCHAR}, #{appSize,jdbcType=DOUBLE},
    #{imgSmall,jdbcType=VARCHAR}, #{imgBig,jdbcType=VARCHAR}, #{isFree,jdbcType=INTEGER},
    #{price,jdbcType=DOUBLE}, #{operaterUserID,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, #{isPerfect,jdbcType=INTEGER},#{settingTime,jdbcType=TIMESTAMP},
    #{lastReviewDate,jdbcType=TIMESTAMP}, #{uploadUserID,jdbcType=INTEGER}, #{uploadExplain,jdbcType=VARCHAR},
    #{createDate,jdbcType=TIMESTAMP}, #{modifyDate,jdbcType=VARCHAR}, #{isDel,jdbcType=INTEGER}
    )
  </insert>
  <insert id="insertSelective" parameterType="com.eleapp.model.Appinfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ele_appinfo
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="autoID != null" >
        AutoID,
      </if>
      <if test="appCode != null" >
        AppCode,
      </if>
      <if test="appKey != null" >
        AppKey,
      </if>
      <if test="appName != null" >
        AppName,
      </if>
      <if test="appExplain != null" >
        AppExplain,
      </if>
      <if test="appType != null" >
        AppType,
      </if>
      <if test="companyCode != null" >
        CompanyCode,
      </if>
      <if test="appAddress != null" >
        AppAddress,
      </if>
      <if test="appSize != null" >
        AppSize,
      </if>
      <if test="imgSmall != null" >
        ImgSmall,
      </if>
      <if test="imgBig != null" >
        ImgBig,
      </if>
      <if test="isFree != null" >
        IsFree,
      </if>
      <if test="price != null" >
        Price,
      </if>
      <if test="operaterUserID != null" >
        OperaterUserID,
      </if>
      <if test="status != null" >
        Status,
      </if>
      <if test="isPerfect != null" >
        isPerfect,
      </if>
      <if test="settingTime != null" >
        settingTime,
      </if>
      <if test="lastReviewDate != null" >
        LastReviewDate,
      </if>
      <if test="uploadUserID != null" >
        UploadUserID,
      </if>
      <if test="uploadExplain != null" >
        UploadExplain,
      </if>
      <if test="createDate != null" >
        CreateDate,
      </if>
      <if test="modifyDate != null" >
        ModifyDate,
      </if>
      <if test="isDel != null" >
        IsDel,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="autoID != null" >
        #{autoID,jdbcType=INTEGER},
      </if>
      <if test="appCode != null" >
        #{appCode,jdbcType=VARCHAR},
      </if>
      <if test="appKey != null" >
        #{appKey,jdbcType=VARCHAR},
      </if>
      <if test="appName != null" >
        #{appName,jdbcType=VARCHAR},
      </if>
      <if test="appExplain != null" >
        #{appExplain,jdbcType=VARCHAR},
      </if>
      <if test="appType != null" >
        #{appType,jdbcType=INTEGER},
      </if>
      <if test="companyCode != null" >
        #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="appAddress != null" >
        #{appAddress,jdbcType=VARCHAR},
      </if>
      <if test="appSize != null" >
        #{appSize,jdbcType=DOUBLE},
      </if>
      <if test="imgSmall != null" >
        #{imgSmall,jdbcType=VARCHAR},
      </if>
      <if test="imgBig != null" >
        #{imgBig,jdbcType=VARCHAR},
      </if>
      <if test="isFree != null" >
        #{isFree,jdbcType=INTEGER},
      </if>
      <if test="price != null" >
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="operaterUserID != null" >
        #{operaterUserID,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="isPerfect != null" >
        #{isPerfect,jdbcType=INTEGER},
      </if>
      <if test="settingTime != null" >
         #{settingTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastReviewDate != null" >
        #{lastReviewDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uploadUserID != null" >
        #{uploadUserID,jdbcType=INTEGER},
      </if>
      <if test="uploadExplain != null" >
        #{uploadExplain,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null" >
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyDate != null" >
        #{modifyDate,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null" >
        #{isDel,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.eleapp.model.Appinfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ele_appinfo
    <set >
      <if test="appCode != null" >
        AppCode = #{appCode,jdbcType=VARCHAR},
      </if>
      <if test="appKey != null" >
        AppKey = #{appKey,jdbcType=VARCHAR},
      </if>
      <if test="appName != null" >
        AppName = #{appName,jdbcType=VARCHAR},
      </if>
      <if test="appExplain != null" >
        AppExplain = #{appExplain,jdbcType=VARCHAR},
      </if>
      <if test="appType != null" >
        AppType = #{appType,jdbcType=INTEGER},
      </if>
      <if test="companyCode != null" >
        CompanyCode = #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="appAddress != null" >
        AppAddress = #{appAddress,jdbcType=VARCHAR},
      </if>
      <if test="appSize != null" >
        AppSize = #{appSize,jdbcType=DOUBLE},
      </if>
      <if test="imgSmall != null" >
        ImgSmall = #{imgSmall,jdbcType=VARCHAR},
      </if>
      <if test="imgBig != null" >
        ImgBig = #{imgBig,jdbcType=VARCHAR},
      </if>
      <if test="isFree != null" >
        IsFree = #{isFree,jdbcType=INTEGER},
      </if>
      <if test="price != null" >
        Price = #{price,jdbcType=DOUBLE},
      </if>
      <if test="operaterUserID != null" >
        OperaterUserID = #{operaterUserID,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        Status = #{status,jdbcType=INTEGER},
      </if>
      <if test="isPerfect != null" >
        isPerfect = #{isPerfect,jdbcType=INTEGER},
      </if>
      <if test="settingTime != null" >
        settingTime = #{settingTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastReviewDate != null" >
        LastReviewDate = #{lastReviewDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uploadUserID != null" >
        UploadUserID = #{uploadUserID,jdbcType=INTEGER},
      </if>
      <if test="uploadExplain != null" >
        UploadExplain = #{uploadExplain,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null" >
        CreateDate = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyDate != null" >
        ModifyDate = #{modifyDate,jdbcType=VARCHAR},
      </if>
      <if test="isDel != null" >
        IsDel = #{isDel,jdbcType=INTEGER},
      </if>
    </set>
    where AutoID = #{autoID,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.eleapp.model.Appinfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ele_appinfo
    set AppCode = #{appCode,jdbcType=VARCHAR},
    AppKey = #{appKey,jdbcType=VARCHAR},
    AppName = #{appName,jdbcType=VARCHAR},
    AppExplain = #{appExplain,jdbcType=VARCHAR},
    AppType = #{appType,jdbcType=INTEGER},
    CompanyCode = #{companyCode,jdbcType=VARCHAR},
    AppAddress = #{appAddress,jdbcType=VARCHAR},
    AppSize = #{appSize,jdbcType=DOUBLE},
    ImgSmall = #{imgSmall,jdbcType=VARCHAR},
    ImgBig = #{imgBig,jdbcType=VARCHAR},
    IsFree = #{isFree,jdbcType=INTEGER},
    Price = #{price,jdbcType=DOUBLE},
    OperaterUserID = #{operaterUserID,jdbcType=VARCHAR},
    Status = #{status,jdbcType=INTEGER},
    isPerfect = #{isPerfect,jdbcType=INTEGER},
    LastReviewDate = #{lastReviewDate,jdbcType=TIMESTAMP},
    LastReviewDate = #{lastReviewDate,jdbcType=TIMESTAMP},
    UploadUserID = #{uploadUserID,jdbcType=INTEGER},
    UploadExplain = #{uploadExplain,jdbcType=VARCHAR},
    CreateDate = #{createDate,jdbcType=TIMESTAMP},
    ModifyDate = #{modifyDate,jdbcType=VARCHAR},
    IsDel = #{isDel,jdbcType=INTEGER}
    where AutoID = #{autoID,jdbcType=INTEGER}
  </update>

  <!--根据条件获取app列表-->
  <select id="selectAllAppList" resultType="map" parameterType="map">
    select <include refid="Base_Column_List" />
    from ele_appinfo where IsDel=1
    <if test="apptype!= null and apptype!= '' and apptype ==1 ">
      AND AppName like CONCAT('%', #{keywords},'%')
    </if>
  </select>

  <update id="updateAppStatus">
    update ele_appinfo set Status = #{status}  where AutoID = #{id}
  </update>

  <update id="setPerfact">
    update ele_appinfo set isPerfect = #{perfact}  where AutoID in(${appIds})
  </update>


</mapper>
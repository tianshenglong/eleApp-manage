<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eleapp.dao.AppinfoMapper">
  <resultMap id="BaseResultMap" type="com.eleapp.model.Appinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="AutoID" jdbcType="INTEGER" property="autoID" />
    <result column="AppCode" jdbcType="VARCHAR" property="appCode" />
    <result column="AppName" jdbcType="VARCHAR" property="appName" />
    <result column="AppExplain" jdbcType="VARCHAR" property="appExplain" />
    <result column="AppType" jdbcType="INTEGER" property="appType" />
    <result column="CompanyCode" jdbcType="VARCHAR" property="companyCode" />
    <result column="AppAddress" jdbcType="VARCHAR" property="appAddress" />
    <result column="AppSize" jdbcType="DOUBLE" property="appSize" />
    <result column="ImgSmall" jdbcType="VARCHAR" property="imgSmall" />
    <result column="ImgBig" jdbcType="VARCHAR" property="imgBig" />
    <result column="IsFree" jdbcType="INTEGER" property="isFree" />
    <result column="Price" jdbcType="DOUBLE" property="price" />
    <result column="OperaterUserID" jdbcType="VARCHAR" property="operaterUserID" />
    <result column="Status" jdbcType="INTEGER" property="status" />
    <result column="LastReviewDate" jdbcType="TIMESTAMP" property="lastReviewDate" />
    <result column="UploadUserID" jdbcType="INTEGER" property="uploadUserID" />
    <result column="UploadExplain" jdbcType="VARCHAR" property="uploadExplain" />
    <result column="CreateDate" jdbcType="TIMESTAMP" property="createDate" />
    <result column="ModifyDate" jdbcType="VARCHAR" property="modifyDate" />
    <result column="IsDel" jdbcType="INTEGER" property="IsDel" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    AutoID, AppCode, AppName, AppExplain, AppType, CompanyCode, AppAddress, AppSize, 
    ImgSmall, ImgBig,  if(IsFree=1,'是','否')IsFree, Price, OperaterUserID, if(Status=1,'已审核','未审核') Status, LastReviewDate, UploadUserID,
    UploadExplain, date_format(CreateDate,'%Y-%m-%d %H:%i:%s') CreateDate, date_format(ModifyDate,'%Y-%m-%d %H:%i:%s') ModifyDate,IsDel
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from appinfo
    where AutoID = #{autoID,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from appinfo
    where AutoID = #{autoID,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.eleapp.model.Appinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into appinfo (AutoID, AppCode, AppName, 
      AppExplain, AppType, CompanyCode, 
      AppAddress, AppSize, ImgSmall, 
      ImgBig, IsFree, Price, 
      OperaterUserID, Status, LastReviewDate, 
      UploadUserID, UploadExplain, CreateDate, 
      ModifyDate,IsDel)
    values (#{autoID,jdbcType=INTEGER}, #{appCode,jdbcType=VARCHAR}, #{appName,jdbcType=VARCHAR}, 
      #{appExplain,jdbcType=VARCHAR}, #{appType,jdbcType=INTEGER}, #{companyCode,jdbcType=VARCHAR}, 
      #{appAddress,jdbcType=VARCHAR}, #{appSize,jdbcType=DOUBLE}, #{imgSmall,jdbcType=VARCHAR}, 
      #{imgBig,jdbcType=VARCHAR}, #{isFree,jdbcType=INTEGER}, #{price,jdbcType=DOUBLE}, 
      #{operaterUserID,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, #{lastReviewDate,jdbcType=TIMESTAMP}, 
      #{uploadUserID,jdbcType=INTEGER}, #{uploadExplain,jdbcType=VARCHAR}, #{createDate,jdbcType=TIMESTAMP}, 
      #{modifyDate,jdbcType=VARCHAR},#{IsDel,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.eleapp.model.Appinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into appinfo
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="autoID != null">
        AutoID,
      </if>
      <if test="appCode != null">
        AppCode,
      </if>
      <if test="appName != null">
        AppName,
      </if>
      <if test="appExplain != null">
        AppExplain,
      </if>
      <if test="appType != null">
        AppType,
      </if>
      <if test="companyCode != null">
        CompanyCode,
      </if>
      <if test="appAddress != null">
        AppAddress,
      </if>
      <if test="appSize != null">
        AppSize,
      </if>
      <if test="imgSmall != null">
        ImgSmall,
      </if>
      <if test="imgBig != null">
        ImgBig,
      </if>
      <if test="isFree != null">
        IsFree,
      </if>
      <if test="price != null">
        Price,
      </if>
      <if test="operaterUserID != null">
        OperaterUserID,
      </if>
      <if test="status != null">
        Status,
      </if>
      <if test="lastReviewDate != null">
        LastReviewDate,
      </if>
      <if test="uploadUserID != null">
        UploadUserID,
      </if>
      <if test="uploadExplain != null">
        UploadExplain,
      </if>
      <if test="createDate != null">
        CreateDate,
      </if>
      <if test="modifyDate != null">
        ModifyDate,
      </if>
      <if test="IsDel != null">
        IsDel,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="autoID != null">
        #{autoID,jdbcType=INTEGER},
      </if>
      <if test="appCode != null">
        #{appCode,jdbcType=VARCHAR},
      </if>
      <if test="appName != null">
        #{appName,jdbcType=VARCHAR},
      </if>
      <if test="appExplain != null">
        #{appExplain,jdbcType=VARCHAR},
      </if>
      <if test="appType != null">
        #{appType,jdbcType=INTEGER},
      </if>
      <if test="companyCode != null">
        #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="appAddress != null">
        #{appAddress,jdbcType=VARCHAR},
      </if>
      <if test="appSize != null">
        #{appSize,jdbcType=DOUBLE},
      </if>
      <if test="imgSmall != null">
        #{imgSmall,jdbcType=VARCHAR},
      </if>
      <if test="imgBig != null">
        #{imgBig,jdbcType=VARCHAR},
      </if>
      <if test="isFree != null">
        #{isFree,jdbcType=INTEGER},
      </if>
      <if test="price != null">
        #{price,jdbcType=DOUBLE},
      </if>
      <if test="operaterUserID != null">
        #{operaterUserID,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=INTEGER},
      </if>
      <if test="lastReviewDate != null">
        #{lastReviewDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uploadUserID != null">
        #{uploadUserID,jdbcType=INTEGER},
      </if>
      <if test="uploadExplain != null">
        #{uploadExplain,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyDate != null">
        #{modifyDate,jdbcType=VARCHAR},
      </if>
      <if test="IsDel != null">
        #{IsDel,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.eleapp.model.Appinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update appinfo
    <set>
      <if test="appCode != null">
        AppCode = #{appCode,jdbcType=VARCHAR},
      </if>
      <if test="appName != null">
        AppName = #{appName,jdbcType=VARCHAR},
      </if>
      <if test="appExplain != null">
        AppExplain = #{appExplain,jdbcType=VARCHAR},
      </if>
      <if test="appType != null">
        AppType = #{appType,jdbcType=INTEGER},
      </if>
      <if test="companyCode != null">
        CompanyCode = #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="appAddress != null">
        AppAddress = #{appAddress,jdbcType=VARCHAR},
      </if>
      <if test="appSize != null">
        AppSize = #{appSize,jdbcType=DOUBLE},
      </if>
      <if test="imgSmall != null">
        ImgSmall = #{imgSmall,jdbcType=VARCHAR},
      </if>
      <if test="imgBig != null">
        ImgBig = #{imgBig,jdbcType=VARCHAR},
      </if>
      <if test="isFree != null">
        IsFree = #{isFree,jdbcType=INTEGER},
      </if>
      <if test="price != null">
        Price = #{price,jdbcType=DOUBLE},
      </if>
      <if test="operaterUserID != null">
        OperaterUserID = #{operaterUserID,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        Status = #{status,jdbcType=INTEGER},
      </if>
      <if test="lastReviewDate != null">
        LastReviewDate = #{lastReviewDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uploadUserID != null">
        UploadUserID = #{uploadUserID,jdbcType=INTEGER},
      </if>
      <if test="uploadExplain != null">
        UploadExplain = #{uploadExplain,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        CreateDate = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyDate != null">
        ModifyDate = #{modifyDate,jdbcType=VARCHAR},
      </if>
      <if test="IsDel != null">
        IsDel = #{IsDel,jdbcType=INTEGER},
      </if>
    </set>
    where AutoID = #{autoID,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.eleapp.model.Appinfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update appinfo
    set AppCode = #{appCode,jdbcType=VARCHAR},
      AppName = #{appName,jdbcType=VARCHAR},
      AppExplain = #{appExplain,jdbcType=VARCHAR},
      AppType = #{appType,jdbcType=INTEGER},
      CompanyCode = #{companyCode,jdbcType=VARCHAR},
      AppAddress = #{appAddress,jdbcType=VARCHAR},
      AppSize = #{appSize,jdbcType=DOUBLE},
      ImgSmall = #{imgSmall,jdbcType=VARCHAR},
      ImgBig = #{imgBig,jdbcType=VARCHAR},
      IsFree = #{isFree,jdbcType=INTEGER},
      Price = #{price,jdbcType=DOUBLE},
      OperaterUserID = #{operaterUserID,jdbcType=VARCHAR},
      Status = #{status,jdbcType=INTEGER},
      LastReviewDate = #{lastReviewDate,jdbcType=TIMESTAMP},
      UploadUserID = #{uploadUserID,jdbcType=INTEGER},
      UploadExplain = #{uploadExplain,jdbcType=VARCHAR},
      CreateDate = #{createDate,jdbcType=TIMESTAMP},
      ModifyDate = #{modifyDate,jdbcType=VARCHAR},
      IsDel = #{IsDel,jdbcType=INTEGER},
    where AutoID = #{autoID,jdbcType=INTEGER}
  </update>

  <!--根据条件获取app列表-->
  <select id="selectAllAppList" resultType="map" parameterType="map">
    select <include refid="Base_Column_List" />
    from appinfo where IsDel=1
    <if test="apptype!= null and apptype!= '' and apptype ==1 ">
      AND AppName like CONCAT('%', #{keywords},'%')
    </if>
  </select>

  <update id="updateAppStatus">
    update appinfo set Status = #{status}  where AutoID = #{id}
  </update>
</mapper>
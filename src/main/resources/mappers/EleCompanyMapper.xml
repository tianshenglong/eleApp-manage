<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.eleapp.dao.EleCompanyMapper" >
  <resultMap id="BaseResultMap" type="com.eleapp.model.EleCompany" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="compName" property="compName" jdbcType="VARCHAR" />
    <result column="province" property="province" jdbcType="INTEGER" />
    <result column="city" property="city" jdbcType="INTEGER" />
    <result column="address" property="address" jdbcType="VARCHAR" />
    <result column="postCode" property="postCode" jdbcType="VARCHAR" />
    <result column="compEmail" property="compEmail" jdbcType="VARCHAR" />
    <result column="compMobile" property="compMobile" jdbcType="VARCHAR" />
    <result column="chatTool" property="chatTool" jdbcType="INTEGER" />
    <result column="chatNum" property="chatNum" jdbcType="VARCHAR" />
    <result column="webSite" property="webSite" jdbcType="VARCHAR" />
    <result column="urgentMan" property="urgentMan" jdbcType="VARCHAR" />
    <result column="urgentMobile" property="urgentMobile" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="INTEGER" />
    <result column="auditor" property="auditor" jdbcType="INTEGER" />
    <result column="auditTime" property="auditTime" jdbcType="TIMESTAMP" />
    <result column="createTime" property="createTime" jdbcType="TIMESTAMP" />
    <result column="isDel" property="isDel" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, compName, province, city, address, postCode, compEmail, compMobile, chatTool, 
    chatNum, webSite, urgentMan, urgentMobile, if(status=1,'已审核','未审核') status, auditor, date_format(auditTime,'%Y-%m-%d %H:%i:%s') auditTime, date_format(createTime,'%Y-%m-%d %H:%i:%s') createTime,
    isDel
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from ele_company
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from ele_company
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.eleapp.model.EleCompany" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ele_company (id, compName, province, 
      city, address, postCode, 
      compEmail, compMobile, chatTool, 
      chatNum, webSite, urgentMan, 
      urgentMobile, status, auditor, 
      auditTime, createTime, isDel
      )
    values (#{id,jdbcType=INTEGER}, #{compName,jdbcType=VARCHAR}, #{province,jdbcType=INTEGER},
      #{city,jdbcType=INTEGER}, #{address,jdbcType=VARCHAR}, #{postCode,jdbcType=VARCHAR}, 
      #{compEmail,jdbcType=VARCHAR}, #{compMobile,jdbcType=VARCHAR}, #{chatTool,jdbcType=INTEGER}, 
      #{chatNum,jdbcType=VARCHAR}, #{webSite,jdbcType=VARCHAR}, #{urgentMan,jdbcType=VARCHAR}, 
      #{urgentMobile,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, #{auditor,jdbcType=INTEGER}, 
      #{auditTime,jdbcType=TIMESTAMP}, #{createTime,jdbcType=TIMESTAMP}, #{isDel,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.eleapp.model.EleCompany" useGeneratedKeys="true" keyProperty="id" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ele_company
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="compName != null" >
        compName,
      </if>
      <if test="province != null" >
        province,
      </if>
      <if test="city != null" >
        city,
      </if>
      <if test="address != null" >
        address,
      </if>
      <if test="postCode != null" >
        postCode,
      </if>
      <if test="compEmail != null" >
        compEmail,
      </if>
      <if test="compMobile != null" >
        compMobile,
      </if>
      <if test="chatTool != null" >
        chatTool,
      </if>
      <if test="chatNum != null" >
        chatNum,
      </if>
      <if test="webSite != null" >
        webSite,
      </if>
      <if test="urgentMan != null" >
        urgentMan,
      </if>
      <if test="urgentMobile != null" >
        urgentMobile,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="auditor != null" >
        auditor,
      </if>
      <if test="auditTime != null" >
        auditTime,
      </if>
      <if test="createTime != null" >
        createTime,
      </if>
      <if test="isDel != null" >
        isDel,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="compName != null" >
        #{compName,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        #{city,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="postCode != null" >
        #{postCode,jdbcType=VARCHAR},
      </if>
      <if test="compEmail != null" >
        #{compEmail,jdbcType=VARCHAR},
      </if>
      <if test="compMobile != null" >
        #{compMobile,jdbcType=VARCHAR},
      </if>
      <if test="chatTool != null" >
        #{chatTool,jdbcType=INTEGER},
      </if>
      <if test="chatNum != null" >
        #{chatNum,jdbcType=VARCHAR},
      </if>
      <if test="webSite != null" >
        #{webSite,jdbcType=VARCHAR},
      </if>
      <if test="urgentMan != null" >
        #{urgentMan,jdbcType=VARCHAR},
      </if>
      <if test="urgentMobile != null" >
        #{urgentMobile,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="auditor != null" >
        #{auditor,jdbcType=INTEGER},
      </if>
      <if test="auditTime != null" >
        #{auditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDel != null" >
        #{isDel,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.eleapp.model.EleCompany" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ele_company
    <set >
      <if test="compName != null" >
        compName = #{compName,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        province = #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        city = #{city,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="postCode != null" >
        postCode = #{postCode,jdbcType=VARCHAR},
      </if>
      <if test="compEmail != null" >
        compEmail = #{compEmail,jdbcType=VARCHAR},
      </if>
      <if test="compMobile != null" >
        compMobile = #{compMobile,jdbcType=VARCHAR},
      </if>
      <if test="chatTool != null" >
        chatTool = #{chatTool,jdbcType=INTEGER},
      </if>
      <if test="chatNum != null" >
        chatNum = #{chatNum,jdbcType=VARCHAR},
      </if>
      <if test="webSite != null" >
        webSite = #{webSite,jdbcType=VARCHAR},
      </if>
      <if test="urgentMan != null" >
        urgentMan = #{urgentMan,jdbcType=VARCHAR},
      </if>
      <if test="urgentMobile != null" >
        urgentMobile = #{urgentMobile,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="auditor != null" >
        auditor = #{auditor,jdbcType=INTEGER},
      </if>
      <if test="auditTime != null" >
        auditTime = #{auditTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createTime != null" >
        createTime = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDel != null" >
        isDel = #{isDel,jdbcType=INTEGER},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.eleapp.model.EleCompany" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ele_company
    set compName = #{compName,jdbcType=VARCHAR},
      province = #{province,jdbcType=INTEGER},
      city = #{city,jdbcType=INTEGER},
      address = #{address,jdbcType=VARCHAR},
      postCode = #{postCode,jdbcType=VARCHAR},
      compEmail = #{compEmail,jdbcType=VARCHAR},
      compMobile = #{compMobile,jdbcType=VARCHAR},
      chatTool = #{chatTool,jdbcType=INTEGER},
      chatNum = #{chatNum,jdbcType=VARCHAR},
      webSite = #{webSite,jdbcType=VARCHAR},
      urgentMan = #{urgentMan,jdbcType=VARCHAR},
      urgentMobile = #{urgentMobile,jdbcType=VARCHAR},
      status = #{status,jdbcType=INTEGER},
      auditor = #{auditor,jdbcType=INTEGER},
      auditTime = #{auditTime,jdbcType=TIMESTAMP},
      createTime = #{createTime,jdbcType=TIMESTAMP},
      isDel = #{isDel,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <select id="selectAllCompList" resultType="map" parameterType="map">
    select <include refid="Base_Column_List" />
    from ele_company where IsDel=1
    <if test="comptype!= null and comptype!= '' and comptype ==1 ">
      AND compName like CONCAT('%', #{keywords},'%')
    </if>
  </select>

  <update id="updateCompStatus">
    update ele_company set status = #{status}  where id = #{id}
  </update>
</mapper>